

<script>
  
    function preAdd() {
        $("#id").val('');
        $("#firstName").val('');
        $("#lastName").val('');
        $("#email").val('');
        $("#mobileNumber").val('');
        $("#address").val('');
        $("#illness").val('');
        $("#alergies").val('');
        $("#emergencyContact").val('');

        $("#patientId").val('');
        $("#patientName").val('');
        $("#doctorId").val('');
        $("#treatmentTypeId").val('');
        $("#isConfirmed").val('');
        $("#isComplete").val('');
        $("#dateTime").val('');


        $('#popup').modal('show');
    }

    // use to hide popup
    function hidePopup() {
        $('#popup').modal('hide');
    }

    function preEdit(model, patient, doctor, treatment) {
        console.log(model);
        $("#idEdit").val(model.id);

        $("#firstNameEdit").val(patient.firstName);
        $("#lastNameEdit").val(patient.lastName);
        $("#emailEdit").val(patient.email);
        $("#mobileNumberEdit").val(patient.mobileNo);
        $("#addressEdit").val(patient.address);
        $("#illnessEdit").val(patient.illness);
        $("#alergiesEdit").val(patient.alergies);
        $("#emergencyContactEdit").val(patient.emergencyContact);

        $("#paymentIdEdit").val(model.paymentId);
        $("#patientIdEdit").val(model.patientId);
        $("#patientNameEdit").val(patient.firstName);

        $("#doctorIdEdit").val(doctor.id).trigger('change');
        $("#treatmentTypeIdEdit").val(treatment.id);
        $("#durationEdit").val(model.duration);
        $("#isConfirmedEdit").val(model.isConfirmed).trigger('change');
        $("#isCompleteEdit").val(model.isComplete);
        $("#dateTimeEdit").val(model.dateTime).trigger('change');

        $('#popupEdit').modal('show');
    }
    // use to hide edit popup
    function hideEditPopup() {
        $('#popupEdit').modal('hide');
    }

    function showInvoice(model, patient, doctor, treatment, payment) {
        console.log(model);
        console.log(payment);

        $("#paitentName").html(patient.firstName + " " +patient.lastName);
        $("#paitentAddress").html(patient.address);
        $("#paitentAddress").html(patient.dateTime);
        $("#channelingDate").html(model.dateTime);
        $("#treatmentType").html(treatment.name);

        $("#advancePayment").html(payment.advance + ".00");

        var ballancePayment = payment.total - payment.advance;
        $("#balancePayment").html(ballancePayment+ ".00");
        $("#totalPayment").html(payment.total + ".00");

        $('#popupInvoice').modal('show');
    }
   
    // use to hide edit popup
    function hideInvoicePopup() {
        $('#popupInvoice').modal('hide');
    }


    function deleteRecord(id) {
        var url = '@Url.Content("~/")' + "Appointment/Delete/"+id; 
        console.log(url);
        $.post(url, { "Id": id }, function (data) {
            if (data) {
                console.log("Deleted succesfully");
                location.reload();
            } else {
                console.log("Deleted failed");
                location.reload();
            }
        });
    }


</script>